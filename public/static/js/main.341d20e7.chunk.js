(this["webpackJsonpscheduler-react"]=this["webpackJsonpscheduler-react"]||[]).push([[0],{380:function(e,t,n){e.exports=n(479)},385:function(e,t,n){},386:function(e,t,n){},479:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),c=n.n(o),i=(n(385),n(386),n(62)),s=n(210),u=n(350),l=n.n(u),f=n(63),d=n(356),p=n.n(d),m=n(366),h=n.n(m),b=n(357),j=n.n(b),O=n(364),E=n.n(O),w=n(247),v=n.n(w),g=n(246),y=n.n(g),R=n(358),C=n.n(R),D=n(359),S=n.n(D),k=n(361),T=n.n(k),A=n(362),x=n.n(A),P=n(363),B=n.n(P),M=n(367),N=n.n(M),G=n(360),F=n.n(G),J=n(365),I=n.n(J),L=n(368),V=n.n(L);var W=function(e){var t={Add:Object(a.forwardRef)((function(e,t){return r.a.createElement(p.a,Object.assign({},e,{ref:t}))})),Check:Object(a.forwardRef)((function(e,t){return r.a.createElement(j.a,Object.assign({},e,{ref:t}))})),Clear:Object(a.forwardRef)((function(e,t){return r.a.createElement(y.a,Object.assign({},e,{ref:t}))})),Delete:Object(a.forwardRef)((function(e,t){return r.a.createElement(C.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(a.forwardRef)((function(e,t){return r.a.createElement(v.a,Object.assign({},e,{ref:t}))})),Edit:Object(a.forwardRef)((function(e,t){return r.a.createElement(S.a,Object.assign({},e,{ref:t}))})),Export:Object(a.forwardRef)((function(e,t){return r.a.createElement(F.a,Object.assign({},e,{ref:t}))})),Filter:Object(a.forwardRef)((function(e,t){return r.a.createElement(T.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(a.forwardRef)((function(e,t){return r.a.createElement(x.a,Object.assign({},e,{ref:t}))})),LastPage:Object(a.forwardRef)((function(e,t){return r.a.createElement(B.a,Object.assign({},e,{ref:t}))})),NextPage:Object(a.forwardRef)((function(e,t){return r.a.createElement(v.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(a.forwardRef)((function(e,t){return r.a.createElement(E.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(a.forwardRef)((function(e,t){return r.a.createElement(y.a,Object.assign({},e,{ref:t}))})),Search:Object(a.forwardRef)((function(e,t){return r.a.createElement(I.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(a.forwardRef)((function(e,t){return r.a.createElement(h.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(a.forwardRef)((function(e,t){return r.a.createElement(N.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(a.forwardRef)((function(e,t){return r.a.createElement(V.a,Object.assign({},e,{ref:t}))}))},n=r.a.useState([]),o=Object(i.a)(n,2),c=o[0],u=o[1],d=r.a.useState({columns:[{title:"Name",field:"name"},{title:"Description",field:"description"},{title:"Date",field:"date",type:"date"},{title:"Type",field:"type",lookup:{Appointment:"Appointment",Meeting:"Meeting",Reminder:"Reminder",Game:"Game",Movie:"Movie",Concert:"Concert",Meetup:"Meetup",Other:"Other"}},{title:"ID",field:"_id",hidden:!0}],data:[]}),m=Object(i.a)(d,1)[0];return r.a.useEffect((function(){fetch("".concat(f.uriBase).concat(f.eventsApi),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Failed to get all events");return e.json()})).then((function(e){console.log(e),u(e)})).catch((function(e){console.log(e)}))}),[]),r.a.createElement(l.a,{icons:t,title:"Events",columns:m.columns,data:c,editable:{onRowAdd:function(e){return new Promise((function(t){setTimeout((function(){t(),u((function(t){var n,a=Object(s.a)(t);return a.push(e),n=e,fetch("".concat(f.uriBase).concat(f.eventsApi),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){if(!e.ok)throw new Error("Could not create user");return e.json()})).catch((function(e){console.log(e)})),a}))}),600)}))},onRowUpdate:function(e,t){return new Promise((function(n){setTimeout((function(){n(),t&&u((function(n){var a,r=Object(s.a)(n);return r[r.indexOf(t)]=e,a=e,fetch("".concat(f.uriBase).concat(f.eventsApi,"/").concat(a.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){if(!e.ok)throw new Error("Could not update user");return e.json()})).catch((function(e){console.log(e)})),r}))}),600)}))},onRowDelete:function(e){return new Promise((function(t){setTimeout((function(){t(),u((function(t){var n=Object(s.a)(t),a=n[n.indexOf(e)];return n.splice(n.indexOf(e),1),function(e){fetch("".concat(f.uriBase).concat(f.eventsApi,"/").concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Could not delete user");return e.json()})).catch((function(e){console.log(e)}))}(a),n}))}),600)}))}}})},H=n(248),z=n.n(H),U=n(369),$=n(249),_=n(95),q=n.n(_),K=n(329),Q=n(204);function X(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var Y=Object(K.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function Z(e){var t=Y(),n=r.a.useState(X),a=Object(i.a)(n,1)[0];return r.a.createElement("div",null,r.a.createElement(Q.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:e.open,onClose:function(){e.setOpen(!1)}},r.a.createElement("div",{style:a,className:t.paper},r.a.createElement("h2",{id:"simple-modal-title"},e.event.title),r.a.createElement("p",{id:"simple-modal-description"},"Description: ".concat(e.event.description||"none")),r.a.createElement("p",{id:"simple-modal-description"},"Date: ".concat(new Date(e.event.date).toLocaleDateString())),r.a.createElement("p",{id:"simple-modal-description"},"Type: ".concat(e.event.type)))))}n(478),q()().toDate(),q()().add(1,"days").toDate(),q()().toDate(),q()().add(1,"days").toDate(),q()().subtract(1,"days").toDate(),q()().subtract(1,"days").toDate();var ee=Object($.b)(q.a);var te=function(e){var t=r.a.useState([]),n=Object(i.a)(t,2),a=n[0],o=n[1],c=r.a.useState({}),s=Object(i.a)(c,2),u=s[0],l=s[1],d=r.a.useState([]),p=Object(i.a)(d,2),m=(p[0],p[1]),h=r.a.useState(!1),b=Object(i.a)(h,2),j=b[0],O=b[1],E=function(){var e=Object(U.a)(z.a.mark((function e(){var t,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f.uriBase).concat(f.eventsApi),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Failed to get all events");return e.json()})).then((function(e){return m(e),e})).catch((function(e){console.log(e)}));case 2:t=e.sent,n=t.reduce((function(e,t){return t.title=t.name,t.start=t.date,t.end=t.date,e.push(t),e}),[]),o(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.useEffect((function(){E()}),[]),r.a.createElement("div",null,r.a.createElement($.a,{localizer:ee,defaultDate:new Date,defaultView:"month",events:a,style:{height:"100vh"},views:["month"],onSelectEvent:function(e){l(e),O(!j)}}),j?r.a.createElement(Z,{open:j,setOpen:O,event:u}):null)};var ne=function(e){var t=Object(a.useState)("list"),n=Object(i.a)(t,2),o=n[0],c=n[1];return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){c("list"===o?"calendar":"list")}},"CHANGE VIEW"),r.a.createElement("div",null,"list"===o?r.a.createElement(W,null):r.a.createElement(te,null)))};var ae=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ne,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},63:function(e,t,n){e.exports.uriBase="https://spencernelson.herokuapp.com",e.exports.eventsApi="/scheduler/api/v1/events"}},[[380,1,2]]]);
//# sourceMappingURL=main.341d20e7.chunk.js.map